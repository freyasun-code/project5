<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project5: Fun With Diffusion Models!</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #D8C3DD;
      color: white;
    }

    /* 侧边导航栏 */
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      width: 250px;
      background: rgba(0,0,0,0.3);
      padding-top: 20px;
      overflow-y: auto;
      z-index: 1000;
    }

    .sidebar a {
      display: block;
      color: #ffddff;
      text-decoration: none;
      padding: 10px 20px;
      font-weight: bold;
    }

    .sidebar a:hover {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
    }

    .sidebar h2 {
      color: #ffddff;
      font-size: 18px;
      padding: 10px 20px;
      margin-top: 10px;
    }

    /* 内容区 */
    .content {
      margin-left: 270px;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
    }

    .section {
      background: rgba(0,0,0,0.2);
      padding: 20px;
      margin: 30px 0;
      border-radius: 12px;
    }

    h2 {
      color: #ffddff;
      text-align: left;
    }

    h3 {
      margin-top: 20px;
    }

    p {
      max-width: 1000px;
      margin-bottom: 20px;
      font-size: 16px;
      line-height: 1.5;
    }

    .two-images {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .img-block {
      text-align: center;
      flex: 0 0 320px;
    }

    .img-block img {
      width: 100%;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.08);
    }

    .img-block p {
      margin-top: 8px;
      font-size: 14px;
    }

    @media (max-width: 900px) {
      .sidebar { width: 200px; }
      .content { margin-left: 220px; }
      .img-block { flex: 0 0 45%; }
    }

    @media (max-width: 600px) {
      .sidebar { display: none; }
      .content { margin-left: 0; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="sidebar">
    <h2>Project5 Navigation</h2>
    <a href="#partA">Part A: The Power of Diffusion Models!</a>
      <a href="#partA-0">Part A.0: Setup</a>
      <a href="#partA-1">Part A.1: Sampling Loops</a>
      <a href="#partA-1-1">1.1 Forward Process</a>
      <a href="#partA-1-2">1.2 Classical Denoising</a>
      <a href="#partA-1-3">1.3 One-Step Denoising</a>
      <a href="#partA-1-4">1.4 Iterative Denoising</a>
      <a href="#partA-1-5">1.5 Diffusion Sampling</a>
      <a href="#partA-1-6">1.6 Classifier-Free Guidance</a>
      <a href="#partA-1-7">1.7 Image-to-Image Translation</a>
      <a href="#partA-1-7-1">1.7.1 Editing Hand-Drawn & Web Images</a>
      <a href="#partA-1-7-2">1.7.2 Inpainting</a>
      <a href="#partA-1-7-3">1.7.3 Text-Conditional Translation</a>
      <a href="#partA-1-8">1.8 Visual Anagrams</a>
      <a href="#partA-1-9">1.9 Hybrid Images</a>

    <a href="#partB">Part B: Flow Matching from Scratch!</a>
      <a href="#partB-1">Part B.1: Training Single-Step Denoising UNet</a>
      <a href="#partB-1-1">1.1 Implementing UNet</a>
      <a href="#partB-1-2">1.2 Using UNet to Train Denoiser</a>
      <a href="#partB-1-2-1">1.2.1 Training</a>
      <a href="#partB-1-2-2">1.2.2 Out-of-Distribution Testing</a>
      <a href="#partB-1-2-3">1.2.3 Denoising Pure Noise</a>
      <a href="#partB-2">Part B.2: Training Flow Matching Model</a>
      <a href="#partB-2-1">2.1 Adding Time Conditioning to UNet</a>
      <a href="#partB-2-2">2.2 Training UNet</a>
      <a href="#partB-2-3">2.3 Sampling from UNet</a>
      <a href="#partB-2-4">2.4 Adding Class Conditioning</a>
      <a href="#partB-2-5">2.5 Training UNet</a>
      <a href="#partB-2-6">2.6 Sampling from UNet</a>
  </div>

  <div class="content">
    <h1>Project5: Fun With Diffusion Models!</h1>

    <!-- =========================== -->
    <!-- Part A -->
    <!-- =========================== -->
    <div class="section" id="partA">
      <h2>Part A: The Power of Diffusion Models!</h2>

      <div class="section" id="partA-0">
        <h2>Part A.0: Setup</h2>
        <p>
  <strong>random seed：</strong>100<br>
  <strong>text prompts：</strong> 'a high quality photo', 'a photo of a dog', 'a rocket ship'<br><br>

  <div style="display: flex; justify-content: center; gap: 12px; margin-bottom: 15px;">
    <figure style="text-align: center; margin: 0;">
      <img src="0120.png" style="width: 200px;">
      <figcaption>20 steps</figcaption>
    </figure>
    <figure style="text-align: center; margin: 0;">
      <img src="0220.png" style="width: 200px;">
      <figcaption>20 steps</figcaption>
    </figure>
    <figure style="text-align: center; margin: 0;">
      <img src="0320.png" style="width: 200px;">
      <figcaption>20 steps</figcaption>
    </figure>
  </div>

  <div style="display: flex; justify-content: center; gap: 12px; margin-bottom: 15px;">
    <figure style="text-align: center; margin: 0;">
      <img src="0160.png" style="width: 200px;">
      <figcaption>60 steps</figcaption>
    </figure>
    <figure style="text-align: center; margin: 0;">
      <img src="0260.png" style="width: 200px;">
      <figcaption>60 steps</figcaption>
    </figure>
    <figure style="text-align: center; margin: 0;">
      <img src="0360.png" style="width: 200px;">
      <figcaption>60 steps</figcaption>
    </figure>
  </div>
</p>
      </div>

      <div class="section" id="partA-1">
        <h2>Part A.1: Sampling Loops</h2>

        <div class="section" id="partA-1-1">
          <h3>1.1 Forward Process</h3>
          <p>
  <div style="font-weight: bold; color: white; font-size: 18px; margin-bottom: 10px;">
    noisy_im = forward(im, t) function
  </div>

  <!-- 单张代码图，居中 -->
  <div style="text-align: center; margin-bottom: 20px;">
    <img src="1.1code.png" style="width: 420px;">
  </div>

  <!-- 四张图一行 -->
  <div style="display: flex; justify-content: center; gap: 12px; margin-bottom: 15px;">

    <figure style="text-align: center; margin: 0;">
      <img src="test.png" style="width: 200px;">
      <figcaption>Berkeley Campanile</figcaption>
    </figure>

    <figure style="text-align: center; margin: 0;">
      <img src="1.1250.png" style="width: 200px;">
      <figcaption>Noisy Campanile at t=250</figcaption>
    </figure>

    <figure style="text-align: center; margin: 0;">
      <img src="1.1500.png" style="width: 200px;">
      <figcaption>Noisy Campanile at t=500</figcaption>
    </figure>

    <figure style="text-align: center; margin: 0;">
      <img src="1.1750.png" style="width: 200px;">
      <figcaption>Noisy Campanile at t=750</figcaption>
    </figure>

  </div>
</p>

        </div>

        <div class="section" id="partA-1-2">
          <h3>1.2 Classical Denoising</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-3">
          <h3>1.3 One-Step Denoising</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-4">
          <h3>1.4 Iterative Denoising</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-5">
          <h3>1.5 Diffusion Model Sampling</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-6">
          <h3>1.6 Classifier-Free Guidance (CFG)</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-7">
          <h3>1.7 Image-to-Image Translation</h3>

          <div class="section" id="partA-1-7-1">
            <h4>1.7.1 Editing Hand-Drawn and Web Images</h4>
            <p><!-- 内容留空 --></p>
          </div>

          <div class="section" id="partA-1-7-2">
            <h4>1.7.2 Inpainting</h4>
            <p><!-- 内容留空 --></p>
          </div>

          <div class="section" id="partA-1-7-3">
            <h4>1.7.3 Text-Conditional Image-to-image Translation</h4>
            <p><!-- 内容留空 --></p>
          </div>
        </div>

        <div class="section" id="partA-1-8">
          <h3>1.8 Visual Anagrams</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partA-1-9">
          <h3>1.9 Hybrid Images</h3>
          <p><!-- 内容留空 --></p>
        </div>
      </div>
    </div>

    <!-- =========================== -->
    <!-- Part B -->
    <!-- =========================== -->
    <div class="section" id="partB">
      <h2>Part B: Flow Matching from Scratch!</h2>

      <div class="section" id="partB-1">
        <h2>Part B.1: Training a Single-Step Denoising UNet</h2>

        <div class="section" id="partB-1-1">
          <h3>1.1 Implementing the UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-1-2">
          <h3>1.2 Using the UNet to Train a Denoiser</h3>

          <div class="section" id="partB-1-2-1">
            <h4>1.2.1 Training</h4>
            <p><!-- 内容留空 --></p>
          </div>

          <div class="section" id="partB-1-2-2">
            <h4>1.2.2 Out-of-Distribution Testing</h4>
            <p><!-- 内容留空 --></p>
          </div>

          <div class="section" id="partB-1-2-3">
            <h4>1.2.3 Denoising Pure Noise</h4>
            <p><!-- 内容留空 --></p>
          </div>
        </div>
      </div>

      <div class="section" id="partB-2">
        <h2>Part B.2: Training a Flow Matching Model</h2>

        <div class="section" id="partB-2-1">
          <h3>2.1 Adding Time Conditioning to UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-2-2">
          <h3>2.2 Training the UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-2-3">
          <h3>2.3 Sampling from the UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-2-4">
          <h3>2.4 Adding Class-Conditioning to UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-2-5">
          <h3>2.5 Training the UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>

        <div class="section" id="partB-2-6">
          <h3>2.6 Sampling from the UNet</h3>
          <p><!-- 内容留空 --></p>
        </div>
      </div>
    </div>

  </div>
</body>
</html>
